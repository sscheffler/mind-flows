/// <reference path="typings/index.d.ts" />
"use strict";

var node_server_1 = require("./server/node-server");
var logger_1 = require("./server/logger");
var cfenv = require('cfenv');
var appEnv = cfenv.getAppEnv();
var config = appEnv && { port: appEnv.port, host: '0.0.0.0' };
if (config) {
    node_server_1.DefaultServer.bootstrap(config).registerRouter('/api/', require('./server/api/')).registerRouter('/api/admin/', require('./server/api/admin/')).registerRouter('/api/user/', require('./server/api/user')).registerRouter('/api/mindflow/', require('./server/api/mind-flow')).registerRouter('/api/concept/', require('./server/api/concept')).listen();
} else {
    logger_1.logger.error("Config could not be built. No server was started!");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUNBLElBQUEsZ0JBQUEsUUFBMkMsc0JBQTNDLENBQUE7QUFDQSxJQUFBLFdBQUEsUUFBcUIsaUJBQXJCLENBQUE7QUFDQSxJQUFJLFFBQVEsUUFBUSxPQUFSLENBQVo7QUFFQSxJQUFJLFNBQVMsTUFBTSxTQUFOLEVBQWI7QUFDQSxJQUFJLFNBQXdCLFVBQVUsRUFBQyxNQUFNLE9BQU8sSUFBZCxFQUFvQixNQUFNLFNBQTFCLEVBQXRDO0FBRUEsSUFBRyxNQUFILEVBQVU7QUFDUixrQkFBQSxhQUFBLENBQWMsU0FBZCxDQUF3QixNQUF4QixFQUNHLGNBREgsQ0FDa0IsT0FEbEIsRUFDMkIsUUFBUSxlQUFSLENBRDNCLEVBRUcsY0FGSCxDQUVrQixhQUZsQixFQUVpQyxRQUFRLHFCQUFSLENBRmpDLEVBR0csY0FISCxDQUdrQixZQUhsQixFQUdnQyxRQUFRLG1CQUFSLENBSGhDLEVBSUcsY0FKSCxDQUlrQixnQkFKbEIsRUFJb0MsUUFBUSx3QkFBUixDQUpwQyxFQUtHLGNBTEgsQ0FLa0IsZUFMbEIsRUFLbUMsUUFBUSxzQkFBUixDQUxuQyxFQU1DLE1BTkQ7QUFPRCxDQVJELE1BUU87QUFDTCxhQUFBLE1BQUEsQ0FBTyxLQUFQLENBQWEsbURBQWI7QUFDRCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwidHlwaW5ncy9pbmRleC5kLnRzXCIgLz5cblwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtEZWZhdWx0U2VydmVyLCBJU2VydmVyQ29uZmlnfSBmcm9tIFwiLi9zZXJ2ZXIvbm9kZS1zZXJ2ZXJcIjtcbmltcG9ydCB7bG9nZ2VyfSBmcm9tIFwiLi9zZXJ2ZXIvbG9nZ2VyXCI7XG52YXIgY2ZlbnYgPSByZXF1aXJlKCdjZmVudicpO1xuXG52YXIgYXBwRW52ID0gY2ZlbnYuZ2V0QXBwRW52KCk7XG5sZXQgY29uZmlnOiBJU2VydmVyQ29uZmlnID0gYXBwRW52ICYmIHtwb3J0OiBhcHBFbnYucG9ydCwgaG9zdDogJzAuMC4wLjAnfTtcblxuaWYoY29uZmlnKXtcbiAgRGVmYXVsdFNlcnZlci5ib290c3RyYXAoY29uZmlnKVxuICAgIC5yZWdpc3RlclJvdXRlcignL2FwaS8nLCByZXF1aXJlKCcuL3NlcnZlci9hcGkvJykpXG4gICAgLnJlZ2lzdGVyUm91dGVyKCcvYXBpL2FkbWluLycsIHJlcXVpcmUoJy4vc2VydmVyL2FwaS9hZG1pbi8nKSlcbiAgICAucmVnaXN0ZXJSb3V0ZXIoJy9hcGkvdXNlci8nLCByZXF1aXJlKCcuL3NlcnZlci9hcGkvdXNlcicpKVxuICAgIC5yZWdpc3RlclJvdXRlcignL2FwaS9taW5kZmxvdy8nLCByZXF1aXJlKCcuL3NlcnZlci9hcGkvbWluZC1mbG93JykpXG4gICAgLnJlZ2lzdGVyUm91dGVyKCcvYXBpL2NvbmNlcHQvJywgcmVxdWlyZSgnLi9zZXJ2ZXIvYXBpL2NvbmNlcHQnKSlcbiAgLmxpc3RlbigpO1xufSBlbHNlIHtcbiAgbG9nZ2VyLmVycm9yKFwiQ29uZmlnIGNvdWxkIG5vdCBiZSBidWlsdC4gTm8gc2VydmVyIHdhcyBzdGFydGVkIVwiKVxufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
