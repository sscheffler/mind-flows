/// <reference path="typings/index.d.ts" />
"use strict";

var node_server_1 = require("./server/node-server");
var logger_1 = require("./server/logger");
var cfenv = require('cfenv');
var appEnv = cfenv.getAppEnv();
var config = appEnv && { port: appEnv.port, host: '0.0.0.0' };
if (config) {
    node_server_1.DefaultServer.bootstrap(config).registerRouter('/api/', require('./server/api/')).registerRouter('/api/admin/', require('./server/api/admin/')).registerRouter('/api/user/', require('./server/api/user')).registerRouter('/api/mindflow/', require('./server/api/mind-flow')).registerRouter('/api/concept/', require('./server/api/concept')).listen();
} else {
    logger_1.logger.error("Config could not be built. No server was started!");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUNBLElBQUEsZ0JBQUEsUUFBMkMsc0JBQTNDLENBQUE7QUFDQSxJQUFBLFdBQUEsUUFBcUIsaUJBQXJCLENBQUE7QUFDQSxJQUFJLFFBQVEsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJLFNBQVMsTUFBTSxTQUFOLEVBQWI7QUFDQSxJQUFJLFNBQXdCLFVBQVUsRUFBQyxNQUFNLE9BQU8sSUFBZCxFQUFvQixNQUFNLFNBQTFCLEVBQXRDO0FBRUEsSUFBRyxNQUFILEVBQVU7QUFDUixrQkFBQSxhQUFBLENBQWMsU0FBZCxDQUF3QixNQUF4QixFQUNHLGNBREgsQ0FDa0IsT0FEbEIsRUFDMkIsUUFBUSxlQUFSLENBRDNCLEVBRUcsY0FGSCxDQUVrQixhQUZsQixFQUVpQyxRQUFRLHFCQUFSLENBRmpDLEVBR0csY0FISCxDQUdrQixZQUhsQixFQUdnQyxRQUFRLG1CQUFSLENBSGhDLEVBSUcsY0FKSCxDQUlrQixnQkFKbEIsRUFJb0MsUUFBUSx3QkFBUixDQUpwQyxFQUtHLGNBTEgsQ0FLa0IsZUFMbEIsRUFLbUMsUUFBUSxzQkFBUixDQUxuQyxFQU1DLE1BTkQ7QUFPRCxDQVJELE1BUU87QUFDTCxhQUFBLE1BQUEsQ0FBTyxLQUFQLENBQWEsbURBQWI7QUFDRCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwidHlwaW5ncy9pbmRleC5kLnRzXCIgLz5cblwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtEZWZhdWx0U2VydmVyLCBJU2VydmVyQ29uZmlnfSBmcm9tIFwiLi9zZXJ2ZXIvbm9kZS1zZXJ2ZXJcIjtcbmltcG9ydCB7bG9nZ2VyfSBmcm9tIFwiLi9zZXJ2ZXIvbG9nZ2VyXCI7XG52YXIgY2ZlbnYgPSByZXF1aXJlKCdjZmVudicpO1xudmFyIGFwcEVudiA9IGNmZW52LmdldEFwcEVudigpO1xubGV0IGNvbmZpZzogSVNlcnZlckNvbmZpZyA9IGFwcEVudiAmJiB7cG9ydDogYXBwRW52LnBvcnQsIGhvc3Q6ICcwLjAuMC4wJ307XG5cbmlmKGNvbmZpZyl7XG4gIERlZmF1bHRTZXJ2ZXIuYm9vdHN0cmFwKGNvbmZpZylcbiAgICAucmVnaXN0ZXJSb3V0ZXIoJy9hcGkvJywgcmVxdWlyZSgnLi9zZXJ2ZXIvYXBpLycpKVxuICAgIC5yZWdpc3RlclJvdXRlcignL2FwaS9hZG1pbi8nLCByZXF1aXJlKCcuL3NlcnZlci9hcGkvYWRtaW4vJykpXG4gICAgLnJlZ2lzdGVyUm91dGVyKCcvYXBpL3VzZXIvJywgcmVxdWlyZSgnLi9zZXJ2ZXIvYXBpL3VzZXInKSlcbiAgICAucmVnaXN0ZXJSb3V0ZXIoJy9hcGkvbWluZGZsb3cvJywgcmVxdWlyZSgnLi9zZXJ2ZXIvYXBpL21pbmQtZmxvdycpKVxuICAgIC5yZWdpc3RlclJvdXRlcignL2FwaS9jb25jZXB0LycsIHJlcXVpcmUoJy4vc2VydmVyL2FwaS9jb25jZXB0JykpXG4gIC5saXN0ZW4oKTtcbn0gZWxzZSB7XG4gIGxvZ2dlci5lcnJvcihcIkNvbmZpZyBjb3VsZCBub3QgYmUgYnVpbHQuIE5vIHNlcnZlciB3YXMgc3RhcnRlZCFcIilcbn1cblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
