/// <reference path="typings/index.d.ts" />
"use strict";

var node_server_1 = require("./server/node-server");
var logger_1 = require("./server/logger");
var cfenv = require('cfenv');
var appEnv = cfenv.getAppEnv();
var config = appEnv && { port: appEnv.port, host: '0.0.0.0' };
if (config) {
    node_server_1.DefaultServer.bootstrap(config).registerRouter('/api/', require('./server/api/')).listen();
} else {
    logger_1.logger.error("Config could not be built. No server was started!");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUNBLElBQUEsZ0JBQUEsUUFBMkMsc0JBQTNDLENBQUE7QUFDQSxJQUFBLFdBQUEsUUFBcUIsaUJBQXJCLENBQUE7QUFDQSxJQUFJLFFBQVEsUUFBUSxPQUFSLENBQVo7QUFFQSxJQUFJLFNBQVMsTUFBTSxTQUFOLEVBQWI7QUFDQSxJQUFJLFNBQXdCLFVBQVUsRUFBQyxNQUFNLE9BQU8sSUFBZCxFQUFvQixNQUFNLFNBQTFCLEVBQXRDO0FBRUEsSUFBRyxNQUFILEVBQVU7QUFDUixrQkFBQSxhQUFBLENBQWMsU0FBZCxDQUF3QixNQUF4QixFQUNDLGNBREQsQ0FDZ0IsT0FEaEIsRUFDeUIsUUFBUSxlQUFSLENBRHpCLEVBR0csTUFISDtBQUlELENBTEQsTUFLTztBQUNMLGFBQUEsTUFBQSxDQUFPLEtBQVAsQ0FBYSxtREFBYjtBQUNEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJ0eXBpbmdzL2luZGV4LmQudHNcIiAvPlxuXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQge0RlZmF1bHRTZXJ2ZXIsIElTZXJ2ZXJDb25maWd9IGZyb20gXCIuL3NlcnZlci9ub2RlLXNlcnZlclwiO1xuaW1wb3J0IHtsb2dnZXJ9IGZyb20gXCIuL3NlcnZlci9sb2dnZXJcIjtcbnZhciBjZmVudiA9IHJlcXVpcmUoJ2NmZW52Jyk7XG5cbnZhciBhcHBFbnYgPSBjZmVudi5nZXRBcHBFbnYoKTtcbmxldCBjb25maWc6IElTZXJ2ZXJDb25maWcgPSBhcHBFbnYgJiYge3BvcnQ6IGFwcEVudi5wb3J0LCBob3N0OiAnMC4wLjAuMCd9O1xuXG5pZihjb25maWcpe1xuICBEZWZhdWx0U2VydmVyLmJvb3RzdHJhcChjb25maWcpXG4gIC5yZWdpc3RlclJvdXRlcignL2FwaS8nLCByZXF1aXJlKCcuL3NlcnZlci9hcGkvJykpXG4gIC8vIC5yZWdpc3RlclJvdXRlcignL2FwaS9ncmF5bG9nJywgcmVxdWlyZSgnLi9hcGkvZ3JheWxvZy8nKSlcbiAgICAubGlzdGVuKCk7XG59IGVsc2Uge1xuICBsb2dnZXIuZXJyb3IoXCJDb25maWcgY291bGQgbm90IGJlIGJ1aWx0LiBObyBzZXJ2ZXIgd2FzIHN0YXJ0ZWQhXCIpXG59XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
